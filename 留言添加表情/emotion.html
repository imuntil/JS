<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
    <!--<script src="http://code.jquery.com/jquery-1.10.2.min.js" type="text/javascript"></script>-->
    <!--<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js" type="text/javascript"></script>-->
    <style>
        #area{
            width: 200px;
            height: 100px;
        }
        #conment {
            width: 1000px;
            height: 100px;
        }
        #conment img{
            width: 40px;
            height: 40px;
        }
    </style>
    <script src="../jquery-2.1.0.min.js"></script>
</head>
<body>
<textarea id="area"></textarea>
<a id="sub">commit</a>
<p id="conment"></p>
<div>
    <table>
        <tbody>
        <tr>
            <td><img src="img/1.gif"></td>
            <td><img src="img/2.gif"></td>
            <td><img src="img/3.gif"></td>
            <td><img src="img/4.gif"></td>
        </tr>
        <tr>
            <td><img src="img/5.gif"></td>
            <td><img src="img/6.gif"></td>
            <td><img src="img/7.gif"></td>
            <td><img src="img/8.gif"></td>
        </tr>
        <tr>
            <td><img src="img/9.gif"></td>
            <td><img src="img/10.gif"></td>
            <td><img src="img/11.gif"></td>
            <td><img src="img/12.gif"></td>
        </tr>
        <tr>
            <td><img src="img/13.gif"></td>
            <td><img src="img/14.gif"></td>
            <td><img src="img/15.gif"></td>
            <td><img src="img/16.gif"></td>
        </tr>
        </tbody>
    </table>
</div>
<script>
    var emotions = {};
    emotions.baseURL = 'img/';
    emotions.format = '.gif';
    emotions.emotionName = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16];
    emotions.smileyCode = ['[-.-!]','[^0^]','[0N0]','[*^_^*]','[R.R]','[)m(]','[P.P]','[O.o]','[T.T]','[-.-]','[^o^]','[0.0]','[-8-]','[o0o]','[#-#]','[-.-b]'];
//    emotions.smileyCode = new Array("[:-)]", "[:-(]", "[XD]", "[;-)]", "[*^_^*]", "[:-O]", "[o_O]", "[T_T]", "[-_-b]", "[:-D]", "[#_#]", "[^.^]");
    emotions.smileyReg = [/\[-\.-\!\]/g,
        /\[\^0\^\]/g,
        /\[0N0\]/g,
        /\[\*\^_\^\*\]/g,
        /\[R\.R\]/g,
        /\[\)m\(\]/g,
        /\[P\.P\]/g,
        /\[O\.o\]/g,
        /\[T\.T\]/g,
        /\[-\.-\]/g,
        /\[\^o\^\]/g,
        /\[0\.0\]/g,
        /\[-8-\]/g,
        /\[o0o\]/g,
        /\[#-#\]/g,
        /\[-\.-b\]/
    ];
    $('td').each(function(i) {
        $(this).click(function() {
            $('#area').val($('#area').val() + emotions.smileyCode[i]);
        });
    });

    $('#sub').click(function() {
        var str = $('#area').val();
        for (var i = 0; i < emotions.smileyReg.length; i++) {
            str = str.replace(emotions.smileyReg[i],'<img src="'+emotions.baseURL+emotions.emotionName[i]+emotions.format+'" alt="" />');
        }
        $('#conment').html(str);
    });
</script>
</body>
</html>