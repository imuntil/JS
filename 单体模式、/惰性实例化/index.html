<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>惰性加载</title>
    <!--<script src="http://code.jquery.com/jquery-1.10.2.min.js" type="text/javascript"></script>-->
    <!--<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js" type="text/javascript"></script>-->
    <script>
        var MyNamespace = window.MyNamespace || {};
        MyNamespace.Singleton = (function() {
            //private attribute that holds the single instance
            var uinqueInstance;

            function constructor() {
                //private member.
                var privateAttribute1 = false;
                var privateAttribute2 = [1, 2, 4];

                function privateMethod1() {
                    //...
                }
                function privateMethod2() {
                    //...
                }

                return {
                    //public members.
                    publicAttribute1:true,
                    publicAttribute2:10,

                    publicMethod1: function() {
                        //...
                    },
                    publicMethod2: function() {
                        //...
                    }

                }

            }

            return {
                getInstance: function() {
                    if (!uinqueInstance) {
                        uinqueInstance = constructor();
                    }
                    return uinqueInstance;
                }
            }
        })();

        //调用方式
        MyNamespace.Singleton.getInstance().publicMethod1();
    </script>
</head>
<body>
<p style="color: red">对于资源密集型的或者配置开销甚大的单体，将其实例化推迟到需要使用时是较合理地做法。这种技术叫做惰性加载。</p>
<pre style="color: deepskyblue">
    var MyNamespace = window.MyNamespace || {};
    MyNamespace.Singleton = (function() {
    //private attribute that holds the single instance
    var uinqueInstance;

    function constructor() {
    //private member.
    var privateAttribute1 = false;
    var privateAttribute2 = [1, 2, 4];

    function privateMethod1() {
    //...
    }
    function privateMethod2() {
    //...
    }

    return {
    //public members.
    publicAttribute1:true,
    publicAttribute2:10,

    publicMethod1: function() {
    //...
    },
    publicMethod2: function() {
    //...
    }

    }

    }

    return {
    getInstance: function() {
    if (!uinqueInstance) {
    uinqueInstance = constructor();
    }
    return uinqueInstance;
    }
    }
    })();

    //调用方式
    MyNamespace.Singleton.getInstance().publicMethod1();
</pre>
</body>
</html>